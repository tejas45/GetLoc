<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>

    </title>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>

    <script>
        $(function () {
            var error = $('#errDiv');
            $('#btnFindLoc').click(function () {
                debugger;
                if (Modernizr.geolocation) {

                    navigator.geolocation.getCurrentPosition(currentPosition, positionError);
                }
                else {
                    error.html("GeoLocation API of HTML 5 is not supported");
                }
            });

            function currentPosition(currentPos) {
                var coordinates = currentPos.coords;
                $('#lati').text(coordinates.latitude);
                $('#longi').text(coordinates.longitude);
                var googleMap = $('#gMap');
                googleMap.attr("href", "http://maps.google.com/maps?q=" + coordinates.latitude + "," + coordinates.longitude);
            }

            function positionError(errCode) {
                switch (errCode.code) {
                    case 0:
                        error.html("Unknown Error - has occured");
                        break;
                    case 1:
                        error.html("Permission Denied - By the user");
                        break;
                    case 2:
                        error.html("Position/Location Unavailable");
                        break;
                    case 3:
                        error.html("Timeout");
                        break;
                }
            }
        });
    </script>
</head>
<body>
    Lat: - <p id="lati"></p>
    Long:- <p id="longi"></p>
    <input id="btnFindLoc" type="button" value="Get My Location" name="btnFindLoc" />
    <a id="gMap" href="#" target="_blank"> Show on Map</a>
    <div id="errDiv"></div>

    <!-- Visual Studio Browser Link -->
    <script type="application/json" id="__browserLink_initializationData">
        {"appName":"Internet Explorer","requestId":"02fb58679f7545929faaba93f802dd93"}
    </script>
    <script type="text/javascript" src="http://localhost:18442/3d018328a6e14d0082ca89b1be9b0e94/browserLink" async="async"></script>
    <!-- End Browser Link -->

</body>
</html>
